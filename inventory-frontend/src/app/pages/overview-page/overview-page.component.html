<div class="container">
  <div class="table-title">
    <h1>Controle de Estoque</h1>
    <form [formGroup]="rangeDateForm" (ngSubmit)="onFilter()">
      <input type="date" name="date1" id="date1" formControlName="date1" />
      <input type="date" name="date2" id="date2" formControlName="date2" />
      <button type="submit" class="filter-btn">
        <span style="width: 20px;"></span>
        <span style="width: 15px;"></span>
        <span style="width: 10px;"></span>
      </button>
    </form>
  </div>
  <table>
    <thead>
      <tr>
        <th>Produto</th>
        <th>Quantidade</th>
        <th>Valor (R$)</th>
        <th>Uni. Medida</th>
        <th>Fabricação</th>
        <th>Válido até</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of parsedStock" [ngClass]="{
          'expired': isExpired(item.due_date),
          'close-to-expire': isCloseToExpire(item.due_date) && !isExpired(item.due_date)
        }">
        <td>{{item.product.name}}</td>
        <td>{{item.quantity}}</td>
        <td>{{item.product.price * item.quantity}}</td>
        <td>{{item.product.unit}}</td>
        <td>{{item.production_date}}</td>
        <td>{{item.due_date}}</td>
      </tr>
    </tbody>
  </table>
  <div class="table-subtitle">
    <span class="expired">Produto Vencido</span>
    <span class="close-to-expire">Vencimento próximo</span>
  </div>
</div>